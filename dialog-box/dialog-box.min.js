// Simple Dialog Box Plugin by Taufik Nurrohman
// URL: http://www.dte.web.id + https://plus.google.com/108949996304093815163/about
// Licence: none
!function(e,i){function t(){l?(o.className+=" minimize",s.innerHTML="+",s.title=a.innerHTML.replace(/<.*?>/g,""),l=!1):(o.className=o.className.replace(/(^| )minimize($| )/g,""),s.innerHTML="&ndash;",s.title="Minimize",l=!0)}var n=(new Date).getTime();!function(){var e=i.createElement("div"),t=i.createElement("div");e.className="dialog-box",e.id="dialog-box-"+n,e.innerHTML='<h3 class="dialog-title">&nbsp;</h3><a href="javascript:;" class="dialog-minmax" title="Minimize">&ndash;</a><a href="javascript:;" class="dialog-close" title="Close">&times;</a><div class="dialog-content">&nbsp;</div><div class="dialog-action"></div>',t.className="dialog-box-overlay",i.body.appendChild(e),i.body.appendChild(t)}();var l=!1,o=i.getElementById("dialog-box-"+n),a=o.children[0],s=o.children[1],c=o.children[2],d=o.children[3],p=o.children[4],r=o.nextSibling;e.setDialog=function(n,f){function h(e){v=e,b=u-v.offsetLeft,y=x-v.offsetTop}function m(t){u=i.all?e.event.clientX:t.pageX,x=i.all?e.event.clientY:t.pageY,null!==v&&(v.style.left=M.left?u-b-M.left+"px":u-b+v.offsetWidth/2+"px",v.style.top=M.top?x-y-M.top+"px":x-y+v.offsetHeight/2+"px")}function g(){v=null}var v=null,u=0,x=0,b=0,y=0,M={title:a.innerHTML,content:d.innerHTML,width:300,height:150,top:!1,left:!1,buttons:{Close:function(){setDialog("close")}},specialClass:"",fixed:!0,overlay:!1};for(var T in f)M[T]=f[T];if(o.className="dialog-box "+(M.fixed?"fixed-dialog-box ":"")+M.specialClass,o.style.visibility="open"==n?"visible":"hidden",o.style.opacity="open"==n?1:0,o.style.width=M.width+"px",o.style.height=M.height+"px",o.style.top=M.top?"0px":"50%",o.style.left=M.left?"0px":"50%",o.style.marginTop=M.top?M.top+"px":"-"+M.height/2+"px",o.style.marginLeft=M.left?M.left+"px":"-"+M.width/2+"px",a.innerHTML=M.title,d.innerHTML=M.content,p.innerHTML="",r.style.display="open"==n&&M.overlay?"block":"none",M.buttons)for(var L in M.buttons){var H=i.createElement("a");H.className="btn",H.href="javascript:;",H.innerHTML=L,H.onclick=M.buttons[L],p.appendChild(H)}else p.innerHTML="&nbsp;";a.onmousedown=function(){return h(this.parentNode),!1},s.innerHTML="&ndash;",s.title="Minimize",s.onclick=t,c.onclick=function(){setDialog("close",{content:""})},i.onmousemove=m,i.onmouseup=g,l="open"==n?!0:!1}}(window,document);