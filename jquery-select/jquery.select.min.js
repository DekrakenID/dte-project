// Simple jQuery Custom Select Box Plugin
// https://plus.google.com/108949996304093815163/about
!function(s){s.fn.customSelectBox=function(e){return e=s.extend({selectboxClass:"select",buttonClass:"current",selectedClass:"selected",disabledClass:"disabled",focusedClass:"focused"},e),this.each(function(){var l=s(this),a=0;l.css("visibility","hidden").wrap('<div class="'+e.selectboxClass+'"></div>');var t=l.parent(),d=t.find("option"),n=l.find("option:selected").html();t.append('<span class="'+e.buttonClass+'">'+n+'</span><ul style="display:none;"></ul>'),d.each(function(l){var a=s(this),d=a.val()?a.val():a.html(),n=a.html(),o=a.is(":selected")?e.selectedClass:a.is(":disabled")?e.disabledClass:"";t.find("ul").append('<li class="'+o+" o-"+l+'" data-value="'+d+'">'+n+"</li>")}),t.find("."+e.buttonClass).on("mousedown",function(l){s("."+e.selectboxClass+" ."+e.focusedClass).removeClass(e.focusedClass).next().hide(),1==a?(s(this).removeClass(e.focusedClass).next().hide(),a=0):(s(this).addClass(e.focusedClass).next().show(),a=1),l.stopPropagation(),s(document).on("mousedown",function(){s("."+e.selectboxClass+" ."+e.focusedClass).removeClass(e.focusedClass).next().hide(),a=0})}).next().find("li").on("mousedown",function(){s(this).hasClass(e.disabledClass)||(s(this).parent().hide().find("."+e.selectedClass).removeClass(e.selectedClass).parent().prev().removeClass(e.focusedClass).text(s(this).text()).prev().val(s(this).data("value")).trigger("change"),s(this).addClass(e.selectedClass)),a=1})})}}(jQuery);